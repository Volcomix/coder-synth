(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],h=0,f=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/coder-synth/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"19e7":function(t,e,n){"use strict";var i=n("f975"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("RouterView")},s=[],r=n("2877"),o={},c=Object(r["a"])(o,a,s,!1,null,null,null),u=c.exports,l=(n("b64b"),n("8c4f")),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VApp",[n("SongsDrawer",{model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}}),n("VAppBar",{attrs:{app:"",dark:"",color:"secondary"}},[n("VAppBarNavIcon",{on:{click:function(e){t.drawer=!t.drawer}}}),n("VToolbarTitle",{staticClass:"white--text mr-2"},[t._v(t._s(t.songName))]),t.isPlaying?n("VBtn",{attrs:{icon:""},on:{click:t.stop}},[n("VIcon",{attrs:{color:"primary"}},[t._v("mdi-stop")])],1):n("VBtn",{attrs:{icon:""},on:{click:t.play}},[n("VIcon",[t._v("mdi-play")])],1),n("VSpacer"),n("VToolbarItems",[n("TracksMenu",{attrs:{song:t.song,"track-name":t.trackName}})],1)],1),n("VContent",[n("div",{staticClass:"fill-height d-flex flex-column"},[n("Oscilloscope",{key:t.songName+"-"+t.trackName,attrs:{analyser:t.analyser}}),t.instrument?n("TrackEffects",{attrs:{instrument:t.instrument,"is-playing":t.isPlaying}}):t._e()],1)])],1)},f=[],p=(n("99af"),n("d81d"),n("d3b7"),n("07ac"),n("3ca3"),n("ddb0"),n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VNavigationDrawer",{attrs:{app:"",temporary:"",value:t.value},on:{input:function(e){return t.$emit("input",e)}}},[n("VListItem",[n("VListItemContent",[n("VListItemTitle",{staticClass:"title"},[t._v("Coder Synth")])],1)],1),n("VDivider"),n("VList",{attrs:{dense:"",nav:""}},[n("VSubheader",[t._v("Select a song")]),n("VListItemGroup",{attrs:{color:"primary"}},t._l(t.songs,(function(e,i){return n("VListItem",{key:i,attrs:{to:{name:"song",params:{songName:i}}}},[n("VListItemContent",[n("VListItemTitle",[t._v(t._s(i))])],1)],1)})),1)],1)],1)}),v=[],y=(n("a630"),n("a15b"),n("d4ec")),m=n("99de"),b=n("7e84"),g=n("257e"),k=n("262e"),d=n("ade3"),O=(n("4160"),n("13d5"),n("4fad"),n("ac1f"),n("1276"),n("498a"),n("159b"),n("3835")),j=n("bee2"),T=function(){function t(e){Object(y["a"])(this,t),this.trackName=e}return Object(j["a"])(t,[{key:"play",value:function(t,e){var n=this,i=t.currentTime;null==this.trackName?Object.values(this.tracks).forEach((function(a){return n.playTrack(a,i,t,e)})):this.playTrack(this.tracks[this.trackName],i,t,e)}},{key:"stop",value:function(){null==this.trackName?Object.values(this.tracks).forEach(this.stopTrack):this.stopTrack(this.tracks[this.trackName])}},{key:"playTrack",value:function(t,e,n,i){var a=this,s=this.parseCommands(t.notes),r=t.effects&&Object.entries(t.effects).reduce((function(t,e){var n=Object(O["a"])(e,2),i=n[0],s=n[1];return Object.assign(t,Object(d["a"])({},i,a.parseCommands(s)))}),{}),o=this.notesPerBeat*this.tempo,c=60/o;t.instrument.start(n,i),t.instrument.play(s,r,c,e)}},{key:"stopTrack",value:function(t){t.instrument.stop()}},{key:"parseCommands",value:function(t){return t?t.trim().split(/\s+/):[]}}]),t}(),w=(n("ace4"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("20bf"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("fb6a"),n("e25e"),"C C# D D# E F F# G G# A A# B".split(" ").map((function(t){return 1===t.length?"".concat(t,"-"):t}))),A=Array.from({length:97},(function(t,e){return 440*Math.pow(2,(e-57)/12)})),q=A.reduce((function(t,e,n){var i=Math.floor(n/12),a=w[n%12];return Object.assign(t,Object(d["a"])({},"".concat(a).concat(i),e))}),{}),F=q,G=function(){function t(){Object(y["a"])(this,t)}return Object(j["a"])(t,[{key:"play",value:function(t,e,n,i){for(var a=i,s=0;s<t.length;s++){var r=t[s];"OFF"===r?this.noteOff(a):"---"!==r&&this.noteOn(F[r],a),e&&this.playEffects(e,s,a),a+=n}}},{key:"playEffects",value:function(t,e,n){var i=this;Object.entries(t).forEach((function(t){var a=Object(O["a"])(t,2),s=a[0],r=a[1],o=r[e];o&&"---"!==o&&i.setEffect(s,parseInt(o),n)}))}},{key:"setEffect",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i="fx".concat(t[0].toUpperCase()).concat(t.slice(1));this[i](e,n)}}]),t}(),x=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"pulseCurve",Float32Array.from({length:256},(function(t,e){return e<128?-1:1}))),n}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.key=t.createConstantSource(),this.osc=t.createOscillator(),this.osc.type="sawtooth",this.osc.frequency.value=0,this.oscDetuned=t.createOscillator(),this.oscDetuned.type="sawtooth",this.oscDetuned.frequency.value=0,this.oscDetuned.detune.value=-1204,this.pulseWidth=t.createConstantSource(),this.pulseWidth.offset.value=.275,this.lfo1=t.createOscillator(),this.lfo1.type="triangle",this.lfo1.frequency.value=5,this.lfo2=t.createOscillator(),this.lfo2.type="triangle",this.lfo2.frequency.value=6,this.oscMod=t.createGain(),this.oscMod.gain.value=4,this.pwmMod=t.createGain(),this.pwmMod.gain.value=.45,this.pulse=t.createWaveShaper(),this.pulse.curve=this.pulseCurve,this.pulseDetuned=t.createWaveShaper(),this.pulseDetuned.curve=this.pulseCurve,this.lpf=t.createBiquadFilter(),this.lpf.type="lowpass",this.lpf.frequency.value=64e4/255,this.lpf.Q.value=750/255,this.lpfKeyFollow=t.createGain(),this.lpfKeyFollow.gain.value=1100/255,this.envelope=t.createGain(),this.envelope.gain.value=0,this.chorusMod=t.createGain(),this.chorusMod.gain.value=.08/255,this.chorusDelay=t.createDelay(),this.chorusDelay.delayTime.value=15/255,this.volume=t.createGain(),this.volume.gain.value=1,this.key.connect(this.osc.frequency),this.key.connect(this.oscDetuned.frequency),this.lfo1.connect(this.pwmMod),this.pwmMod.connect(this.pulseWidth.offset),this.lfo1.connect(this.oscMod),this.oscMod.connect(this.osc.frequency),this.lfo2.connect(this.chorusMod),this.chorusMod.connect(this.chorusDelay.delayTime),this.osc.connect(this.pulse),this.pulseWidth.connect(this.pulse),this.oscDetuned.connect(this.pulseDetuned),this.pulseWidth.connect(this.pulseDetuned),this.osc.connect(this.lpf),this.pulse.connect(this.lpf),this.oscDetuned.connect(this.lpf),this.pulseDetuned.connect(this.lpf),this.key.connect(this.lpfKeyFollow),this.lpfKeyFollow.connect(this.lpf.frequency),this.lpf.connect(this.envelope),this.envelope.connect(this.chorusDelay),this.chorusDelay.connect(this.volume),this.envelope.connect(this.volume),this.volume.connect(e),this.key.start(),this.osc.start(),this.oscDetuned.start(),this.pulseWidth.start(),this.lfo1.start(),this.lfo2.start()}},{key:"stop",value:function(){this.key.stop(),this.osc.stop(),this.oscDetuned.stop(),this.pulseWidth.stop(),this.lfo1.stop(),this.lfo2.stop()}},{key:"noteOn",value:function(t,e){this.key.offset.setValueAtTime(t,e),e>.05&&this.envelope.gain.setTargetAtTime(0,e-.05,.05),this.envelope.gain.setValueAtTime(0,e),this.envelope.gain.linearRampToValueAtTime(.1,e+.1)}},{key:"noteOff",value:function(t){this.envelope.gain.setTargetAtTime(0,t,.1)}},{key:"fxPitch",value:function(t,e){var n=Object.values(F)[t];void 0!==n&&this.key.offset.setValueAtTime(n,e)}},{key:"fxDetune",value:function(t,e){this.oscDetuned.detune.setValueAtTime(t-128-1200,e)}},{key:"fxPulseWidth",value:function(t,e){this.pulseWidth.offset.setValueAtTime(2*t/255-1,e)}},{key:"fxLfo1Rate",value:function(t,e){this.lfo1.frequency.setValueAtTime(t,e)}},{key:"fxLfo2Rate",value:function(t,e){this.lfo2.frequency.setValueAtTime(t,e)}},{key:"fxOscMod",value:function(t,e){this.oscMod.gain.setValueAtTime(t,e)}},{key:"fxPwmMod",value:function(t,e){this.pwmMod.gain.setValueAtTime(t/255,e)}},{key:"fxLpfFreq",value:function(t,e){this.lpf.frequency.setValueAtTime(8e3*t/255,e)}},{key:"fxLpfQ",value:function(t,e){this.lpf.Q.setValueAtTime(50*t/255,e)}},{key:"fxLpfKeyFollow",value:function(t,e){this.lpfKeyFollow.gain.setValueAtTime(10*t/255,e)}},{key:"fxChorusMod",value:function(t,e){this.chorusMod.gain.setValueAtTime(.01*t/255,e)}},{key:"fxChorusDelay",value:function(t,e){this.chorusDelay.delayTime.setValueAtTime(t/255,e)}},{key:"fxVolume",value:function(t,e){this.volume.gain.linearRampToValueAtTime(t/255,e)}}]),e}(G),V=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.oscillator=t.createOscillator(),this.oscillator.type="sine",this.oscillator.frequency.value=172.3,this.oscillator.connect(e),this.oscillator.start()}},{key:"stop",value:function(){this.oscillator.stop()}},{key:"noteOn",value:function(t,e){this.oscillator.frequency.setValueAtTime(t,e)}},{key:"noteOff",value:function(t){this.oscillator.frequency.setValueAtTime(0,t)}},{key:"fxFrequency",value:function(t,e){this.oscillator.frequency.setValueAtTime(110+440*t/255,e)}},{key:"fxShape",value:function(t){this.oscillator.type=t<64?"sine":t<128?"square":t<192?"triangle":"sawtooth"}}]),e}(G),D=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.oscillator=t.createOscillator(),this.oscillator.frequency.value=172.3,this.gain=t.createGain(),this.gain.gain.value=.5,this.oscillator.connect(this.gain),this.gain.connect(e),this.oscillator.start()}},{key:"stop",value:function(){this.oscillator.stop()}},{key:"noteOn",value:function(t,e){this.oscillator.frequency.setValueAtTime(t,e)}},{key:"noteOff",value:function(t){this.oscillator.frequency.setValueAtTime(0,t)}},{key:"fxFrequency",value:function(t,e){this.oscillator.frequency.setValueAtTime(110+440*t/255,e)}},{key:"fxGain",value:function(t,e){this.gain.gain.linearRampToValueAtTime(t/255,e)}}]),e}(G),E=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"peakGain",1),Object(d["a"])(Object(g["a"])(n),"sustainGain",.5),Object(d["a"])(Object(g["a"])(n),"attackDuration",.2),Object(d["a"])(Object(g["a"])(n),"decayDuration",.2),Object(d["a"])(Object(g["a"])(n),"releaseDuration",.5),n}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.oscillator=t.createOscillator(),this.oscillator.frequency.value=172.3,this.gain=t.createGain(),this.gain.gain.value=1,this.oscillator.connect(this.gain),this.gain.connect(e),this.oscillator.start()}},{key:"stop",value:function(){this.oscillator.stop()}},{key:"noteOn",value:function(t,e){this.oscillator.frequency.setValueAtTime(t,e),this.gain.gain.setValueAtTime(0,e),this.gain.gain.linearRampToValueAtTime(this.peakGain,e+this.attackDuration),this.gain.gain.linearRampToValueAtTime(this.sustainGain,e+this.attackDuration+this.decayDuration)}},{key:"noteOff",value:function(t){this.gain.gain.setValueAtTime(this.sustainGain,t),this.gain.gain.linearRampToValueAtTime(0,t+this.releaseDuration)}},{key:"fxPeakGain",value:function(t){this.peakGain=t/255}},{key:"fxSustainGain",value:function(t){this.sustainGain=t/255}},{key:"fxAttackDuration",value:function(t){this.attackDuration=t/255}},{key:"fxDecayDuration",value:function(t){this.decayDuration=t/255}},{key:"fxReleaseDuration",value:function(t){this.releaseDuration=t/255}}]),e}(G),C=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.lfo=t.createOscillator(),this.lfo.frequency.value=1,this.oscillator=t.createOscillator(),this.oscillator.frequency.value=440,this.modulationGain=t.createGain(),this.modulationGain.gain.value=50,this.lfo.connect(this.modulationGain),this.modulationGain.connect(this.oscillator.detune),this.oscillator.connect(e),this.lfo.start(),this.oscillator.start()}},{key:"stop",value:function(){this.lfo.stop(),this.oscillator.stop()}},{key:"fxLfoFrequency",value:function(t,e){this.lfo.frequency.setValueAtTime(10*t/255,e)}},{key:"fxModulationGain",value:function(t,e){this.modulationGain.gain.setValueAtTime(1e3*t/255,e)}}]),e}(G),B=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.oscillator1=t.createOscillator(),this.oscillator1.frequency.value=220,this.oscillator2=t.createOscillator(),this.oscillator2.frequency.value=440,this.modulationGain=t.createGain(),this.modulationGain.gain.value=50,this.oscillator1.connect(this.modulationGain),this.modulationGain.connect(this.oscillator2.frequency),this.oscillator2.connect(e),this.oscillator1.start(),this.oscillator2.start()}},{key:"stop",value:function(){this.oscillator1.stop(),this.oscillator2.stop()}},{key:"fxOsc1Frequency",value:function(t,e){this.oscillator1.frequency.setValueAtTime(110+440*t/255,e)}},{key:"fxOsc2Frequency",value:function(t,e){this.oscillator2.frequency.setValueAtTime(110+440*t/255,e)}},{key:"fxModulationGain",value:function(t,e){this.modulationGain.gain.setValueAtTime(1e3*t/255,e)}}]),e}(G),S=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.oscillator1=t.createOscillator(),this.oscillator1.frequency.value=220,this.oscillator2=t.createOscillator(),this.oscillator2.frequency.value=440,this.gain1=t.createGain(),this.gain1.gain.value=.5,this.gain2=t.createGain(),this.gain2.gain.value=.5,this.oscillator1.connect(this.gain1),this.oscillator2.connect(this.gain2),this.gain1.connect(e),this.gain2.connect(e),this.oscillator1.start(),this.oscillator2.start()}},{key:"stop",value:function(){this.oscillator1.stop(),this.oscillator2.stop()}},{key:"fxOsc1Frequency",value:function(t,e){this.oscillator1.frequency.setValueAtTime(110+440*t/255,e)}},{key:"fxOsc2Frequency",value:function(t,e){this.oscillator2.frequency.setValueAtTime(110+440*t/255,e)}},{key:"fxGain1",value:function(t,e){this.gain1.gain.setValueAtTime(t/255,e)}},{key:"fxGain2",value:function(t,e){this.gain2.gain.setValueAtTime(t/255,e)}}]),e}(G),P=(n("4de4"),function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){for(var n=60*t.sampleRate,i=t.sampleRate,a=t.createBuffer(1,n,i),s=a.getChannelData(0),r=0;r<n;r++)s[r]=2*Math.random()-1;this.noise=t.createBufferSource(),this.noise.buffer=a,this.filter=t.createBiquadFilter(),this.filter.type="lowpass",this.filter.frequency.value=440,this.filter.Q.value=20,this.noise.connect(this.filter),this.filter.connect(e),this.noise.start()}},{key:"stop",value:function(){this.noise.stop()}},{key:"fxFilterFrequency",value:function(t,e){this.filter.frequency.setValueAtTime(110+880*t/255,e)}},{key:"fxFilterQ",value:function(t,e){this.filter.Q.setValueAtTime(200*t/255,e)}},{key:"fxFilterType",value:function(t){this.filter.type=t<256/3?"lowpass":t<512/3?"highpass":"bandpass"}}]),e}(G)),M=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"tempo",168),Object(d["a"])(Object(g["a"])(n),"notesPerBeat",2),Object(d["a"])(Object(g["a"])(n),"tracks",{Oscillator:{instrument:new V},Notes:{instrument:new V,notes:"\n        C-4 --- E-4 --- F#4 --- G-4 ---\n        --- --- --- --- --- --- --- OFF\n      "},Amplitude:{instrument:new D},Effects:{instrument:new D,notes:"\n        C-4 --- E-4 --- F#4 --- G-4 ---\n        --- --- --- --- --- --- --- OFF\n      ",effects:{gain:"\n        064 --- --- --- --- --- 255 ---\n        --- --- --- --- --- --- --- 000\n        "}},Envelope:{instrument:new E,notes:Array.from({length:80},(function(){return"\n        C-4 --- --- --- --- --- --- ---\n        --- --- --- --- OFF --- --- ---\n        "})).join(" ")},LFO:{instrument:new C},FM:{instrument:new B},Additive:{instrument:new S},Subtractive:{instrument:new P},Example:{instrument:new x,notes:"\n        G-5 --- C-5 --- D#5 F-5\n        G-5 --- C-5 --- D#5 F-5\n        G-5 --- C-5 --- D#5 F-5\n        G-5 --- C-5 --- D#5 F-5\n\n        G-5 --- C-5 --- E-5 F-5\n        G-5 --- C-5 --- E-5 F-5\n        G-5 --- C-5 --- E-5 F-5\n        G-5 --- C-5 --- E-5 F-5\n\n        G-5 --- --- --- --- ---\n        C-5 --- --- --- --- ---\n        D#5 F-5 G-5 --- --- ---\n        C-5 --- --- --- D#5 F-5\n\n        D-5 --- G-4 --- A#4 C-5\n        D-5 --- G-4 --- A#4 C-5\n        D-5 --- G-4 --- A#4 C-5\n        D-5 --- G-4 --- A#4 ---\n\n        F-5 --- --- --- --- ---\n        A#4 --- --- --- --- ---\n        D#5 D-5 F-5 --- --- ---\n        A#4 --- --- --- D#5 D-5\n\n        C-5 --- --- --- --- ---\n        --- --- --- --- --- ---\n        OFF --- --- --- --- ---\n        --- --- --- --- --- ---\n      ",effects:{volume:"\n        008 --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n\n        128 --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n\n        128 200 128 --- --- ---\n        128 200 128 --- --- ---\n        128 200 128 --- --- ---\n        128 200 128 --- --- ---\n\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n\n        128 200 128 --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        --- --- --- --- --- ---\n        "}}}),n}return Object(k["a"])(e,t),e}(T),N=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"tempo",140),Object(d["a"])(Object(g["a"])(n),"notesPerBeat",2),Object(d["a"])(Object(g["a"])(n),"tracks",{YourTrackName:{instrument:new V}}),n}return Object(k["a"])(e,t),e}(T),_=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.oscillator=t.createOscillator(),this.oscillator.type="square",this.oscillator.frequency.value=110+15840/255,this.filter=t.createBiquadFilter(),this.filter.frequency.value=110+119680/255,this.gain=t.createGain(),this.gain.gain.value=190/255,this.oscillator.connect(this.filter),this.filter.connect(this.gain),this.gain.connect(e),this.oscillator.start()}},{key:"stop",value:function(){this.oscillator.stop()}},{key:"fxType",value:function(t){this.oscillator.type=t<64?"sine":t<128?"square":t<192?"triangle":"sawtooth"}},{key:"fxFrequency",value:function(t,e){this.oscillator.frequency.setValueAtTime(110+880*t/255,e)}},{key:"fxFilterType",value:function(t){this.filter.type=t<85?"lowpass":t<170?"highpass":"bandpass"}},{key:"fxFilterFrequency",value:function(t,e){this.filter.frequency.setValueAtTime(110+3520*t/255,e)}},{key:"fxQ",value:function(t,e){this.filter.Q.setValueAtTime(10*t/255,e)}},{key:"fxGain",value:function(t,e){this.gain.gain.setValueAtTime(2*t/255,e)}}]),e}(G),L=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"attack",7/255),Object(d["a"])(Object(g["a"])(n),"decay",40/255),Object(d["a"])(Object(g["a"])(n),"sustain",59/255),Object(d["a"])(Object(g["a"])(n),"release",118/255),n}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.oscillator=t.createOscillator(),this.envelope=t.createGain(),this.envelope.gain.value=0,this.volume=t.createGain(),this.volume.gain.value=352/255,this.oscillator.connect(this.envelope),this.envelope.connect(this.volume),this.volume.connect(e),this.oscillator.start()}},{key:"stop",value:function(){this.oscillator.stop()}},{key:"noteOn",value:function(t,e){this.oscillator.frequency.setValueAtTime(t,e),this.envelope.gain.setTargetAtTime(1,e,this.attack),this.envelope.gain.setTargetAtTime(this.sustain,e+this.attack,this.decay)}},{key:"noteOff",value:function(t){this.envelope.gain.setTargetAtTime(0,t,this.release)}},{key:"fxAttackTime",value:function(t){this.attack=1*t/255}},{key:"fxDecayTime",value:function(t){this.decay=1*t/255}},{key:"fxSustainLevel",value:function(t){this.sustain=t/255}},{key:"fxReleaseTime",value:function(t){this.release=1*t/255}},{key:"fxVolume",value:function(t,e){this.volume.gain.setValueAtTime(2*t/255,e)}}]),e}(G),Q=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"vowels",["a","e","i","u","o"]),Object(d["a"])(Object(g["a"])(n),"singerType","soprano"),Object(d["a"])(Object(g["a"])(n),"formantCount",5),n}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){var n=this;this.oscillator=t.createOscillator(),this.oscillator.type="sawtooth",this.volume=t.createGain(),this.formants=Array.from({length:this.formantCount},(function(){var e=t.createBiquadFilter();e.type="bandpass";var i=t.createGain();return n.oscillator.connect(e),e.connect(i),i.connect(n.volume),{bpf:e,vca:i}})),this.volume.connect(e),this.oscillator.start()}},{key:"stop",value:function(){this.oscillator.stop()}},{key:"noteOn",value:function(t,e){this.oscillator.frequency.setValueAtTime(t,e)}},{key:"fxPitch",value:function(t,e){var n=Object.values(F)[t];n&&this.oscillator.frequency.setValueAtTime(n,e)}},{key:"fxVolume",value:function(t,e){this.volume.gain.setValueAtTime(10*t/255,e)}},{key:"fxVowel",value:function(t,e){for(var n=255===t?3.99999:4*t/255,i=Math.floor(n),a=n-i,s=this.vowels[i],r=this.vowels[i+1],o=R["".concat(this.singerType,' "').concat(s,'"')],c=R["".concat(this.singerType,' "').concat(r,'"')],u=0;u<this.formantCount;u++){var l=o.freq[u],h=c.freq[u],f=l+a*(h-l);this.formants[u].bpf.frequency.setValueAtTime(f,e);var p=o.bw[u],v=c.bw[u],y=p+a*(v-p),m=f/y;this.formants[u].bpf.Q.setValueAtTime(m,e);var b=o.amp[u],g=o.amp[u],k=b+a*(g-b),d=Math.pow(10,k/20);this.formants[u].vca.gain.setValueAtTime(d,e)}}}]),e}(G),R={'soprano "a"':{freq:[800,1150,2900,3900,4950],amp:[0,-6,-32,-20,-50],bw:[80,90,120,130,140]},'soprano "e"':{freq:[350,2e3,2800,3600,4950],amp:[0,-20,-15,-40,-56],bw:[60,100,120,150,200]},'soprano "i"':{freq:[270,2140,2950,3900,4950],amp:[0,-12,-26,-26,-44],bw:[60,90,100,120,120]},'soprano "o"':{freq:[450,800,2830,3800,4950],amp:[0,-11,-22,-22,-50],bw:[70,80,100,130,135]},'soprano "u"':{freq:[325,700,2700,3800,4950],amp:[0,-16,-35,-40,-60],bw:[50,60,170,180,200]},'alto "a"':{freq:[800,1150,2800,3500,4950],amp:[0,-4,-20,-36,-60],bw:[80,90,120,130,140]},'alto "e"':{freq:[400,1600,2700,3300,4950],amp:[0,-24,-30,-35,-60],bw:[60,80,120,150,200]},'alto "i"':{freq:[350,1700,2700,3700,4950],amp:[0,-20,-30,-36,-60],bw:[50,100,120,150,200]},'alto "o"':{freq:[450,800,2830,3500,4950],amp:[0,-9,-16,-28,-55],bw:[70,80,100,130,135]},'alto "u"':{freq:[325,700,2530,3500,4950],amp:[0,-12,-30,-40,-64],bw:[50,60,170,180,200]},'countertenor "a"':{freq:[660,1120,2750,3e3,3350],amp:[0,-6,-23,-24,-38],bw:[80,90,120,130,140]},'countertenor "e"':{freq:[440,1800,2700,3e3,3300],amp:[0,-14,-18,-20,-20],bw:[70,80,100,120,120]},'countertenor "i"':{freq:[270,1850,2900,3350,3590],amp:[0,-24,-24,-36,-36],bw:[40,90,100,120,120]},'countertenor "o"':{freq:[430,820,2700,3e3,3300],amp:[0,-10,-26,-22,-34],bw:[40,80,100,120,120]},'countertenor "u"':{freq:[370,630,2750,3e3,3400],amp:[0,-20,-23,-30,-34],bw:[40,60,100,120,120]},'tenor "a"':{freq:[650,1080,2650,2900,3250],amp:[0,-6,-7,-8,-22],bw:[80,90,120,130,140]},'tenor "e"':{freq:[400,1700,2600,3200,3580],amp:[0,-14,-12,-14,-20],bw:[70,80,100,120,120]},'tenor "i"':{freq:[290,1870,2800,3250,3540],amp:[0,-15,-18,-20,-30],bw:[40,90,100,120,120]},'tenor "o"':{freq:[400,800,2600,2800,3e3],amp:[0,-10,-12,-12,-26],bw:[40,80,100,120,120]},'tenor "u"':{freq:[350,600,2700,2900,3300],amp:[0,-20,-17,-14,-26],bw:[40,60,100,120,120]},'bass "a"':{freq:[600,1040,2250,2450,2750],amp:[0,-7,-9,-9,-20],bw:[60,70,110,120,130]},'bass "e"':{freq:[400,1620,2400,2800,3100],amp:[0,-12,-9,-12,-18],bw:[40,80,100,120,120]},'bass "i"':{freq:[250,1750,2600,3050,3340],amp:[0,-30,-16,-22,-28],bw:[60,90,100,120,120]},'bass "o"':{freq:[400,750,2400,2600,2900],amp:[0,-11,-21,-20,-40],bw:[40,80,100,120,120]},'bass "u"':{freq:[350,600,2400,2675,2950],amp:[0,-20,-32,-28,-36],bw:[40,80,100,120,120]}},W=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"vowels",["a","e","i","u","o"]),Object(d["a"])(Object(g["a"])(n),"stops",["h","b","g","d"]),Object(d["a"])(Object(g["a"])(n),"singerType","soprano"),Object(d["a"])(Object(g["a"])(n),"formantCount",2),Object(d["a"])(Object(g["a"])(n),"attack",.05),Object(d["a"])(Object(g["a"])(n),"release",.05),Object(d["a"])(Object(g["a"])(n),"stopped",!0),n}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){var n=this;this.oscillator=t.createOscillator(),this.oscillator.type="sawtooth",this.envelope=t.createGain(),this.envelope.gain.value=0,this.volume=t.createGain(),this.formants=Array.from({length:this.formantCount},(function(){var e=t.createBiquadFilter();e.type="bandpass";var i=t.createGain();return n.oscillator.connect(e),e.connect(i),i.connect(n.envelope),{bpf:e,vca:i}})),this.envelope.connect(this.volume),this.volume.connect(e),this.oscillator.start()}},{key:"stop",value:function(){this.oscillator.stop()}},{key:"noteOn",value:function(t,e){this.oscillator.frequency.setValueAtTime(t,e),this.envelope.gain.setTargetAtTime(1,e,this.attack)}},{key:"noteOff",value:function(t){this.envelope.gain.setTargetAtTime(0,t,this.release),this.stopped=!0}},{key:"fxPitch",value:function(t,e){var n=Object.values(F)[t];n&&this.oscillator.frequency.setValueAtTime(n,e)}},{key:"fxVolume",value:function(t,e){this.volume.gain.setValueAtTime(10*t/255,e)}},{key:"fxStop",value:function(t,e){var n=this;this.envelope.gain.setTargetAtTime(0,e-this.release,this.release),0===t?this.stopped=!0:this.stopFormants(t).forEach((function(t,i){var a=t.freq,s=t.q;n.formants[i].bpf.frequency.setValueAtTime(a,e),n.formants[i].bpf.Q.setValueAtTime(s,e),n.formants[i].vca.gain.setValueAtTime(.25,e)}))}},{key:"fxVowel",value:function(t,e){var n=this;this.vowelFormants(t).forEach((function(t,i){var a=t.freq,s=t.q,r=t.gain;n.stopped?(n.formants[i].bpf.frequency.setValueAtTime(a,e),n.formants[i].bpf.Q.setValueAtTime(s,e),n.formants[i].vca.gain.setValueAtTime(r,e)):(n.formants[i].bpf.frequency.setTargetAtTime(a,e,n.attack),n.formants[i].bpf.Q.setTargetAtTime(s,e,n.attack),n.formants[i].vca.gain.setTargetAtTime(r,e,n.attack))})),this.stopped=!1}},{key:"fxDiphthong1",value:function(t,e){var n=this,i=e+this.attack;this.vowelFormants(t).forEach((function(t,e){var a=t.freq,s=t.q,r=t.gain;n.formants[e].bpf.frequency.setTargetAtTime(a,i,.1),n.formants[e].bpf.Q.setTargetAtTime(s,i,.1),n.formants[e].vca.gain.setTargetAtTime(r,i,.1)}))}},{key:"fxDiphthong2",value:function(t,e){var n=this,i=e+this.attack+.1;this.vowelFormants(t).forEach((function(t,e){var a=t.freq,s=t.q,r=t.gain;n.formants[e].bpf.frequency.setTargetAtTime(a,i,.1),n.formants[e].bpf.Q.setTargetAtTime(s,i,.1),n.formants[e].vca.gain.setTargetAtTime(r,i,.1)}))}},{key:"vowelFormants",value:function(t){var e=this,n=255===t?3.99999:4*t/255,i=Math.floor(n),a=n-i,s=this.vowels[i],r=this.vowels[i+1],o=I["".concat(this.singerType,' "').concat(s,'"')],c=I["".concat(this.singerType,' "').concat(r,'"')];return Array.from({length:this.formantCount},(function(t,n){var i=e.lerp(o.freq[n],c.freq[n],a),s=e.lerp(o.bw[n],c.bw[n],a),r=e.lerp(o.amp[n],c.amp[n],a);return{freq:i,q:e.bwToQ(s,i),gain:e.ampToGain(r)}}))}},{key:"stopFormants",value:function(t){var e=this;return Array.from({length:Math.min(3,this.formantCount)},(function(n,i){var a=$[e.stops[t]],s=a.freq[i];return{freq:s,q:e.bwToQ(a.bw[i],s)}}))}},{key:"bwToQ",value:function(t,e){return e/t}},{key:"ampToGain",value:function(t){return Math.pow(10,t/20)}},{key:"lerp",value:function(t,e,n){return t*(1-n)+e*n}}]),e}(G),I={'soprano "a"':{freq:[800,1150,2900,3900,4950],amp:[0,-6,-32,-20,-50],bw:[80,90,120,130,140]},'soprano "e"':{freq:[350,2e3,2800,3600,4950],amp:[0,-20,-15,-40,-56],bw:[60,100,120,150,200]},'soprano "i"':{freq:[270,2140,2950,3900,4950],amp:[0,-12,-26,-26,-44],bw:[60,90,100,120,120]},'soprano "o"':{freq:[450,800,2830,3800,4950],amp:[0,-11,-22,-22,-50],bw:[70,80,100,130,135]},'soprano "u"':{freq:[325,700,2700,3800,4950],amp:[0,-16,-35,-40,-60],bw:[50,60,170,180,200]},'alto "a"':{freq:[800,1150,2800,3500,4950],amp:[0,-4,-20,-36,-60],bw:[80,90,120,130,140]},'alto "e"':{freq:[400,1600,2700,3300,4950],amp:[0,-24,-30,-35,-60],bw:[60,80,120,150,200]},'alto "i"':{freq:[350,1700,2700,3700,4950],amp:[0,-20,-30,-36,-60],bw:[50,100,120,150,200]},'alto "o"':{freq:[450,800,2830,3500,4950],amp:[0,-9,-16,-28,-55],bw:[70,80,100,130,135]},'alto "u"':{freq:[325,700,2530,3500,4950],amp:[0,-12,-30,-40,-64],bw:[50,60,170,180,200]},'countertenor "a"':{freq:[660,1120,2750,3e3,3350],amp:[0,-6,-23,-24,-38],bw:[80,90,120,130,140]},'countertenor "e"':{freq:[440,1800,2700,3e3,3300],amp:[0,-14,-18,-20,-20],bw:[70,80,100,120,120]},'countertenor "i"':{freq:[270,1850,2900,3350,3590],amp:[0,-24,-24,-36,-36],bw:[40,90,100,120,120]},'countertenor "o"':{freq:[430,820,2700,3e3,3300],amp:[0,-10,-26,-22,-34],bw:[40,80,100,120,120]},'countertenor "u"':{freq:[370,630,2750,3e3,3400],amp:[0,-20,-23,-30,-34],bw:[40,60,100,120,120]},'tenor "a"':{freq:[650,1080,2650,2900,3250],amp:[0,-6,-7,-8,-22],bw:[80,90,120,130,140]},'tenor "e"':{freq:[400,1700,2600,3200,3580],amp:[0,-14,-12,-14,-20],bw:[70,80,100,120,120]},'tenor "i"':{freq:[290,1870,2800,3250,3540],amp:[0,-15,-18,-20,-30],bw:[40,90,100,120,120]},'tenor "o"':{freq:[400,800,2600,2800,3e3],amp:[0,-10,-12,-12,-26],bw:[40,80,100,120,120]},'tenor "u"':{freq:[350,600,2700,2900,3300],amp:[0,-20,-17,-14,-26],bw:[40,60,100,120,120]},'bass "a"':{freq:[600,1040,2250,2450,2750],amp:[0,-7,-9,-9,-20],bw:[60,70,110,120,130]},'bass "e"':{freq:[400,1620,2400,2800,3100],amp:[0,-12,-9,-12,-18],bw:[40,80,100,120,120]},'bass "i"':{freq:[250,1750,2600,3050,3340],amp:[0,-30,-16,-22,-28],bw:[60,90,100,120,120]},'bass "o"':{freq:[400,750,2400,2600,2900],amp:[0,-11,-21,-20,-40],bw:[40,80,100,120,120]},'bass "u"':{freq:[350,600,2400,2675,2950],amp:[0,-20,-32,-28,-36],bw:[40,80,100,120,120]}},$={b:{freq:[200,1100,2150],bw:[60,110,130]},g:{freq:[200,1990,2850],bw:[60,150,280]},d:{freq:[200,1600,2600],bw:[60,100,170]}},K=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.vco=t.createOscillator(),this.vco.type="square",this.mmg=t.createBiquadFilter(),this.mmg.type="lowpass",this.vca1=t.createGain(),this.feedback=t.createGain(),this.vca2=t.createGain(),this.vco.connect(this.mmg),this.mmg.connect(this.vca1),this.vca1.connect(this.feedback),this.feedback.connect(this.feedback),this.feedback.connect(this.vco.frequency),this.feedback.connect(this.vca2),this.vca2.connect(e),this.vco.start()}},{key:"stop",value:function(){this.vco.stop()}},{key:"fxPitch",value:function(t,e){var n=Object.values(F)[t];n&&this.vco.frequency.setValueAtTime(n,e)}},{key:"fxMmgFreq",value:function(t,e){var n=Object.values(F)[t];n&&this.mmg.frequency.setValueAtTime(n,e)}},{key:"fxMmgQ",value:function(t,e){this.mmg.Q.setValueAtTime(100*t/255,e)}},{key:"fxGain",value:function(t,e){this.vca1.gain.setValueAtTime(10*t/255,e)}},{key:"fxFeedback",value:function(t,e){this.feedback.gain.setValueAtTime(t/255,e)}},{key:"fxVolume",value:function(t,e){this.vca2.gain.setValueAtTime(10*t/255,e)}}]),e}(G),z=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.vco=t.createOscillator(),this.vco.type="square",this.vca=t.createGain(),this.vca.gain.value=1,this.feedback=t.createGain(),this.feedback.gain.value=.5,this.vco.connect(this.vca),this.vca.connect(this.feedback),this.feedback.connect(this.feedback),this.feedback.connect(e),this.vco.start()}},{key:"stop",value:function(){this.vco.stop()}},{key:"fxFreq",value:function(t,e){var n=Object.values(F)[t];n&&this.vco.frequency.setValueAtTime(n,e)}},{key:"fxGain",value:function(t,e){this.vca.gain.setValueAtTime(t/255,e)}},{key:"fxFeedback",value:function(t,e){this.feedback.gain.setValueAtTime(t/255,e)}}]),e}(G),J=(n("131a"),n("45eb")),U=n("1341"),Y=n("9072"),H=Float32Array.from({length:256},(function(t,e){return e<128?-1:1})),X=function(t){function e(t){var n;return Object(y["a"])(this,e),n=Object(m["a"])(this,Object(b["a"])(e).call(this,t)),Object.setPrototypeOf(Object(g["a"])(n),e.prototype),Object(U["a"])(Object(b["a"])(e.prototype),"type","sawtooth",Object(g["a"])(n),!0),n.constant=t.createConstantSource(),n.constant.offset.value=0,n.shaper=t.createWaveShaper(),n.shaper.curve=H,Object(J["a"])(Object(b["a"])(e.prototype),"connect",Object(g["a"])(n)).call(Object(g["a"])(n),n.shaper),n.constant.connect(n.shaper),n}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(){for(var t,n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=Object(J["a"])(Object(b["a"])(e.prototype),"start",this)).call.apply(t,[this].concat(a)),(n=this.constant).start.apply(n,a)}},{key:"stop",value:function(){for(var t,n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=Object(J["a"])(Object(b["a"])(e.prototype),"stop",this)).call.apply(t,[this].concat(a)),(n=this.constant).stop.apply(n,a)}},{key:"connect",value:function(){var t;return(t=this.shaper).connect.apply(t,arguments)}},{key:"disconnect",value:function(){var t;return(t=this.shaper).disconnect.apply(t,arguments)}},{key:"width",get:function(){return this.constant.offset}}]),e}(Object(Y["a"])(OscillatorNode)),Z=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.pulse=new X(t),this.pulse.frequency.value=Object.values(F)[28],this.pulse.detune.value=77,this.lfo=t.createOscillator(),this.lfo.type="triangle",this.lfo.frequency.value=0,this.lfoGain=t.createGain(),this.lfoGain.gain.value=0,this.lfo.connect(this.lfoGain),this.lfoGain.connect(this.pulse.width),this.pulse.connect(e),this.pulse.start(),this.lfo.start()}},{key:"stop",value:function(){this.pulse.stop(),this.lfo.stop()}},{key:"fxPitch",value:function(t,e){var n=Object.values(F)[t];n&&this.pulse.frequency.setValueAtTime(n,e)}},{key:"fxDetune",value:function(t,e){this.pulse.detune.setValueAtTime(t,e)}},{key:"fxWidth",value:function(t,e){this.pulse.width.setValueAtTime(1-2*t/255,e)}},{key:"fxLfoRate",value:function(t,e){this.lfo.frequency.setValueAtTime(t,e)}},{key:"fxLfoDepth",value:function(t,e){this.lfoGain.gain.setValueAtTime(t/255,e)}}]),e}(G),tt=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(y["a"])(this,e),n=Object(m["a"])(this,Object(b["a"])(e).call(this,t));for(var s=t.sampleRate*i,r=t.createBuffer(1,s,t.sampleRate),o=r.getChannelData(0),c=0;c<s;c++)o[c]=2*Math.random()-1;return n.buffer=r,n.loop=a,n}return Object(k["a"])(e,t),e}(Object(Y["a"])(AudioBufferSourceNode)),et=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.noise=new tt(t),this.noiseGain=t.createGain(),this.noiseGain.gain.value=.12,this.noiseMod=t.createGain(),this.noiseMod.gain.value=0,this.osc=t.createOscillator(),this.osc.type="sawtooth",this.osc.frequency.value=F["F-3"],this.f1Filter=t.createBiquadFilter(),this.f1Filter.type="bandpass",this.f1Filter.frequency.value=this.f1Freq=750,this.f1Filter.Q.value=this.bwToQ(80,this.f1Freq),this.f1Gain=t.createGain(),this.f1Gain.gain.value=this.ampToGain(0),this.f2Filter=t.createBiquadFilter(),this.f2Filter.type="bandpass",this.f2Filter.frequency.value=this.f2Freq=1150,this.f2Filter.Q.value=this.bwToQ(90,this.f2Freq),this.f2Gain=t.createGain(),this.f2Gain.gain.value=this.ampToGain(-4),this.distortion=t.createWaveShaper(),this.distortion.curve=this.makeDistortionCurve(400),this.filter=t.createBiquadFilter(),this.filter.type="lowshelf",this.filter.frequency.value=340,this.filter.gain.value=5,this.mixer=t.createGain(),this.mixer.gain.value=this.mixerToGain(50),this.noise.connect(this.noiseGain),this.noise.connect(this.noiseMod),this.noiseMod.connect(this.osc.frequency),this.noiseGain.connect(this.f1Filter),this.osc.connect(this.f1Filter),this.f1Filter.connect(this.f1Gain),this.f1Gain.connect(this.distortion),this.noiseGain.connect(this.f2Filter),this.osc.connect(this.f2Filter),this.f2Filter.connect(this.f2Gain),this.f2Gain.connect(this.distortion),this.distortion.connect(this.filter),this.filter.connect(this.mixer),this.mixer.connect(e),this.noise.start(),this.osc.start()}},{key:"stop",value:function(){this.noise.stop(),this.osc.stop()}},{key:"fxOscPitch",value:function(t,e){var n=Object.values(F)[t];n&&this.osc.frequency.setValueAtTime(n,e)}},{key:"xfxOscType",value:function(t){this.osc.type=t<64?"sine":t<128?"square":t<192?"sawtooth":"triangle"}},{key:"xfxNoiseGain",value:function(t,e){this.noiseGain.gain.setValueAtTime(t/255,e)}},{key:"fxScream",value:function(t,e){this.noiseMod.gain.setValueAtTime(10*t,e)}},{key:"xfxF1Freq",value:function(t,e){this.f1Freq=10*t,this.f1Filter.frequency.setValueAtTime(this.f1Freq,e)}},{key:"xfxF1Bw",value:function(t,e){this.f1Filter.Q.setValueAtTime(this.bwToQ(t,this.f1Freq),e)}},{key:"xfxF1Amp",value:function(t,e){this.f1Gain.gain.setValueAtTime(this.ampToGain(-t),e)}},{key:"xfxF2Freq",value:function(t,e){this.f2Freq=10*t,this.f2Filter.frequency.setValueAtTime(this.f2Freq,e)}},{key:"xfxF2Bw",value:function(t,e){this.f2Filter.Q.setValueAtTime(this.bwToQ(t,this.f2Freq),e)}},{key:"xfxF2Amp",value:function(t,e){this.f2Gain.gain.setValueAtTime(this.ampToGain(-t),e)}},{key:"xfxDistortion",value:function(t){this.distortion.curve=this.makeDistortionCurve(10*t)}},{key:"xfxFilterFreq",value:function(t,e){this.filter.frequency.setValueAtTime(10*t,e)}},{key:"xfxFilterGain",value:function(t,e){this.filter.gain.setValueAtTime(t,e)}},{key:"fxMixer",value:function(t,e){this.mixer.gain.setValueAtTime(this.mixerToGain(t),e)}},{key:"makeDistortionCurve",value:function(t){for(var e=t,n=44100,i=new Float32Array(n),a=Math.PI/180,s=0;s<n;++s){var r=2*s/n-1;i[s]=(3+e)*r*20*a/(Math.PI+e*Math.abs(r))}return i}},{key:"mixerToGain",value:function(t){return 10*t/255}},{key:"bwToQ",value:function(t,e){return e/t}},{key:"ampToGain",value:function(t){return Math.pow(10,t/20)}}]),e}(G),nt=220,it=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.delayOffset=128/t.sampleRate,this.noise=new tt(t),this.noiseBurst=t.createGain(),this.noiseBurst.gain.value=0,this.feedbackDelay=t.createDelay(),this.feedbackDelay.delayTime.value=1/nt-this.delayOffset,this.feedbackFilter=t.createBiquadFilter(),this.feedbackFilter.type="highshelf",this.feedbackFilter.gain.value=-20,this.feedbackFilter.frequency.value=2e4,this.feedbackGain=t.createGain(),this.feedbackGain.gain.value=.98,this.noise.connect(this.noiseBurst),this.noiseBurst.connect(e),this.noiseBurst.connect(this.feedbackDelay),this.feedbackDelay.connect(this.feedbackFilter),this.feedbackFilter.connect(this.feedbackGain),this.feedbackGain.connect(e),this.feedbackGain.connect(this.feedbackDelay),this.noise.start()}},{key:"stop",value:function(){this.noise.stop()}},{key:"noteOn",value:function(t,e){this.noiseBurst.gain.setValueAtTime(1,e),this.noiseBurst.gain.setValueAtTime(0,e+1/t)}},{key:"fxFilter",value:function(t,e){this.feedbackFilter.frequency.setValueAtTime(Math.min(100*t,22050),e)}},{key:"fxFeedback",value:function(t,e){this.feedbackGain.gain.setValueAtTime(t/255,e)}}]),e}(G),at={karplusStrongProcessor:"karplus-strong-processor"},st=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.frequency=t.createConstantSource(),this.frequency.offset.value=220,this.period=t.createConstantSource(),this.period.offset.value=1/220,this.noise=new tt(t,2.1),this.burst=t.createGain(),this.burst.gain.value=0,this.gain=t.createGain(),this.gain.gain.value=1,this.pickDirection=t.createBiquadFilter(),this.pickDirection.type="highshelf",this.pickDirection.frequency.value=1e4,this.pickPosition=t.createGain(),this.pickPosition.gain.value=.13,this.pickPositionDelay=t.createDelay(),this.pickPositionDelay.delayTime.value=0,this.pickPositionGain=t.createGain(),this.pickPositionGain.gain.value=-1,this.levelFilter=t.createBiquadFilter(),this.levelFilter.type="highshelf",this.levelFilter.frequency.value=1e4,this.levelFilter.gain.value=-10,this.karplusStrong=new AudioWorkletNode(t,at.karplusStrongProcessor),this.karplusStrong.parameters.get("decayTimeT60").value=4,this.karplusStrong.parameters.get("brightness").value=.5,this.noise.connect(this.burst).connect(this.gain).connect(this.pickDirection).connect(this.pickPositionDelay).connect(this.pickPositionGain).connect(this.levelFilter).connect(this.karplusStrong).connect(e),this.frequency.connect(this.karplusStrong.parameters.get("frequency")),this.frequency.connect(this.levelFilter.frequency),this.period.connect(this.pickPosition).connect(this.pickPositionDelay.delayTime),this.pickDirection.connect(this.levelFilter),this.frequency.start(),this.period.start(),this.noise.start()}},{key:"stop",value:function(){this.frequency.stop(),this.period.stop(),this.noise.stop()}},{key:"noteOn",value:function(t,e){this.burst.gain.setValueAtTime(1,e),this.burst.gain.setValueAtTime(0,e+.01)}},{key:"fxPitch",value:function(t,e){var n=Object.values(F)[t];n&&(this.frequency.offset.setValueAtTime(n,e),this.period.offset.setValueAtTime(1/n,e))}},{key:"fxGain",value:function(t,e){this.gain.gain.setValueAtTime(t/255,e)}},{key:"fxPickDirectionFrequency",value:function(t,e){this.pickDirection.frequency.setValueAtTime(100*t,e)}},{key:"fxPickDirection",value:function(t,e){this.pickDirection.gain.setValueAtTime(-t,e)}},{key:"fxPickPosition",value:function(t,e){this.pickPosition.gain.setValueAtTime(t/255*.5,e)}},{key:"fxLevelFilterFrequency",value:function(t,e){this.levelFilter.frequency.setValueAtTime(100*t,e)}},{key:"fxLevelFilterGain",value:function(t,e){this.levelFilter.gain.setValueAtTime(-t,e)}},{key:"fxDecayTime",value:function(t,e){this.karplusStrong.parameters.get("decayTimeT60").setValueAtTime(t/255*10,e)}},{key:"fxBrightness",value:function(t,e){this.karplusStrong.parameters.get("brightness").setValueAtTime(t/255,e)}}]),e}(G),rt=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"tempo",120),Object(d["a"])(Object(g["a"])(n),"notesPerBeat",2),Object(d["a"])(Object(g["a"])(n),"tracks",{Subtractive:{instrument:new _},Envelope:{instrument:new L,notes:"\n        OFF C-4 E-4 F-4 G-4 --- --- ---\n        OFF C-4 E-4 F-4 G-4 --- --- ---\n        OFF C-4 E-4 F-4 G-4 --- E-4 ---\n        C-4 --- E-4 --- D-4 --- --- ---\n\n        OFF E-4 E-4 D-4 C-4 --- --- ---\n        E-4 --- G-4 --- G-4 F-4 --- ---\n        OFF --- E-4 F-4 G-4 --- E-4 ---\n        C-4 --- D-4 --- C-4 --- --- ---\n        OFF\n      "},Formant:{instrument:new Q,notes:"F-3",effects:{vowel:"0",volume:"64"}},Speech:{instrument:new W,notes:"\n        E-2 F-2 G-2 A-2 --- F-2 G-2 OFF\n        A-2 --- G-2 F-2 --- --- OFF ---\n        F-2 --- D-2 C-2 E-2 OFF --- ---\n      ",effects:{volume:"64",stop:"\n        --- --- --- 000 --- 001 001 ---\n        --- --- 003 002 --- --- --- ---\n        --- --- 003 --- 003 --- --- ---\n        ",vowel:"\n        255 000 064 128 --- 032 128 ---\n        255 --- 255 128 --- --- --- ---\n        000 --- 192 128 192 --- --- ---\n        ",diphthong1:"\n        000 255 192 --- --- 064 --- ---\n        --- --- --- --- --- --- --- ---\n        255 --- --- 192 --- --- --- ---\n        ",diphthong2:"\n        128 --- --- 016 --- --- --- ---\n        016 --- --- --- --- --- --- ---\n        --- --- --- --- --- --- --- ---\n        "}},Scream:{instrument:new K},Feedback:{instrument:new z},PWM:{instrument:new Z},MetalSinger:{instrument:new et},KarplusStrong:{instrument:new it,notes:Array.from({length:500},(function(){return"A-3 --- --- ---"})).join(" ")},ExtendedKarplusStrong:{instrument:new st,notes:Array.from({length:500},(function(){return"\n          A-3 --- --- ---\n      "})).join(" ")}}),n}return Object(k["a"])(e,t),e}(T),ot=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.noise=new tt(t),this.pulse=t.createGain(),this.pulse.gain.value=0,this.gain=t.createGain(),this.gain.gain.value=1,this.karplusStrong=new AudioWorkletNode(t,at.karplusStrongProcessor),this.karplusStrong.parameters.get("decayTimeT60").value=4,this.karplusStrong.parameters.get("brightness").value=.5,this.widthDelay=t.createDelay(),this.stereoPanner=t.createChannelMerger(2),this.noise.connect(this.pulse).connect(this.gain).connect(this.karplusStrong).connect(this.stereoPanner,0,0).connect(e),this.karplusStrong.connect(this.widthDelay).connect(this.stereoPanner,0,1),this.noise.start()}},{key:"stop",value:function(){this.noise.stop()}},{key:"noteOn",value:function(t,e){var n=.005*(2*Math.random()-1);e+=n,this.pulse.gain.setValueAtTime(1,e),this.pulse.gain.setValueAtTime(0,e+1/t),this.karplusStrong.parameters.get("frequency").setValueAtTime(t,e),this.widthDelay.delayTime.setValueAtTime(.5/t,e),this.karplusStrong.parameters.get("decayTimeT60").setValueAtTime(3+4*Math.random(),e),this.karplusStrong.parameters.get("brightness").setValueAtTime(.7*Math.random(),e)}},{key:"fxGain",value:function(t,e){this.gain.gain.setValueAtTime(10*t/255,e)}}]),e}(G),ct=2,ut=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"tempo",110),Object(d["a"])(Object(g["a"])(n),"notesPerBeat",3),Object(d["a"])(Object(g["a"])(n),"tracks",{String1:{instrument:new ot,notes:"--- --- --- --- --- ---"+Array.from({length:ct},(function(){return"\n          B-4 --- --- B-4 --- --- B-4 --- ---\n          B-4 --- --- A-4 --- --- G-4 --- ---\n          G-4 --- --- F#4 --- --- E-4 --- ---\n          E-4 --- --- G-4 --- --- B-4 --- ---\n          E-5 --- --- E-5 --- --- E-5 --- ---\n          E-5 --- --- D-5 --- --- C-5 --- ---\n          C-5 --- --- B-4 --- --- A-4 --- ---\n          A-4 --- --- B-4 --- --- C-5 --- ---\n\n          B-4 --- --- C-5 --- --- B-4 --- ---\n          D#5 --- --- C-5 --- --- B-4 --- ---\n          B-4 --- --- A-4 --- --- G-4 --- ---\n          G-4 --- --- F#4 --- --- E-4 --- ---\n          F#4 --- --- F#4 --- --- F#4 --- ---\n          F#4 --- --- G-4 --- --- F#4 --- ---\n          E-4 --- --- E-4 --- --- E-4 --- ---\n          E-4 --- --- --- --- ---\n        "})).join("\n          F#4 --- ---\n        "),effects:{gain:"--- --- --- --- --- ---"+Array.from({length:ct},(function(){return"\n          050 --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- --- --- --- --- --- ---\n          --- --- --- 040 --- --- 030 --- ---\n          020 --- --- --- --- ---\n        "})).join("\n          030 --- ---\n        ")}},String2:{instrument:new ot,notes:"--- --- --- --- --- ---"+Array.from({length:ct},(function(){return"\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- E-4 --- --- E-4 --- --- E-4 ---\n          --- E-4 --- --- E-4 --- --- E-4 ---\n\n          --- F#4 --- --- F#4 --- --- F#4 ---\n          --- F#4 --- --- F#4 --- --- F#4 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- B-3 --- --- B-3 --- --- B-3 ---\n          --- --- --- --- --- ---\n        "})).join("\n          --- --- ---\n        "),effects:{gain:"\n          --- --- --- --- --- ---\n          020\n        "}},String3:{instrument:new ot,notes:"--- --- --- --- --- ---"+Array.from({length:ct},(function(){return"\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- C-4 --- --- C-4 --- --- C-4\n          --- --- C-4 --- --- C-4 --- --- C-4\n\n          --- --- D#4 --- --- D#4 --- --- D#4\n          --- --- D#4 --- --- D#4 --- --- D#4\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- A-3 --- --- A-3 --- --- A-3\n          --- --- A-3 --- --- A-3 --- --- A-3\n          --- --- G-3 --- --- G-3 --- --- G-3\n          --- --- --- --- --- ---\n        "})).join("\n          --- --- ---\n        "),effects:{gain:"\n          --- --- --- --- --- ---\n          020\n        "}},String4:{instrument:new ot,notes:"--- --- --- --- --- ---"+Array.from({length:ct},(function(){return"\n          E-2 --- --- --- --- --- --- --- ---\n          E-2 --- --- --- --- --- --- --- ---\n          E-2 --- --- --- --- --- --- --- ---\n          E-2 --- --- --- --- --- --- --- ---\n          E-2 --- --- --- --- --- --- --- ---\n          E-2 --- --- --- --- --- --- --- ---\n          A-2 --- --- --- --- --- --- --- ---\n          A-2 --- --- --- --- --- --- --- ---\n\n          B-2 --- --- --- --- --- --- --- ---\n          B-2 --- --- --- --- --- --- --- ---\n          E-2 --- --- --- --- --- --- --- ---\n          E-2 --- --- --- --- --- --- --- ---\n          B-2 --- --- --- --- --- --- --- ---\n          D#3 --- --- --- --- --- --- --- ---\n          E-3 --- --- B-2 --- --- G-2 --- ---\n          E-2 --- --- --- --- ---\n        "})).join("\n          --- --- ---\n        "),effects:{gain:"\n          --- --- --- --- --- ---\n          015\n        "}}}),n}return Object(k["a"])(e,t),e}(T),lt=Float32Array.from({length:4096},(function(t,e){var n=e/4096*2-1;return n-n*n*n/3})),ht=function(t){function e(){return Object(y["a"])(this,e),Object(m["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(k["a"])(e,t),Object(j["a"])(e,[{key:"start",value:function(t,e){this.frequency=t.createConstantSource(),this.frequency.offset.value=220,this.period=t.createConstantSource(),this.period.offset.value=1/220,this.noise=new tt(t,2.1),this.burst=t.createGain(),this.burst.gain.value=0,this.gain=t.createGain(),this.gain.gain.value=.3,this.pickPosition=t.createGain(),this.pickPosition.gain.value=.13,this.pickPositionDelay=t.createDelay(),this.pickPositionDelay.delayTime.value=0,this.pickPositionGain=t.createGain(),this.pickPositionGain.gain.value=-1,this.levelFilter=t.createBiquadFilter(),this.levelFilter.type="highshelf",this.levelFilter.frequency.value=1e4,this.levelFilter.gain.value=-30,this.karplusStrong=new AudioWorkletNode(t,at.karplusStrongProcessor),this.karplusStrong.parameters.get("decayTimeT60").value=4,this.karplusStrong.parameters.get("brightness").value=.5,this.drive=t.createGain(),this.drive.gain.value=Math.pow(10,4),this.distortion=t.createWaveShaper(),this.distortion.curve=lt,this.distortion.oversample="4x",this.postGain=t.createGain(),this.postGain.gain.value=1,this.feedbackGain=t.createGain(),this.feedbackGain.gain.value=0,this.feedbackDelay=t.createDelay(),this.feedbackDelay.delayTime.value=.1,this.noise.connect(this.burst).connect(this.gain).connect(this.pickPositionDelay).connect(this.pickPositionGain).connect(this.levelFilter).connect(this.karplusStrong).connect(this.drive).connect(this.distortion).connect(this.postGain).connect(e),this.frequency.connect(this.karplusStrong.parameters.get("frequency")),this.frequency.connect(this.levelFilter.frequency),this.period.connect(this.pickPosition).connect(this.pickPositionDelay.delayTime),this.gain.connect(this.levelFilter),this.distortion.connect(this.feedbackGain).connect(this.feedbackDelay).connect(this.karplusStrong),this.frequency.start(),this.period.start(),this.noise.start()}},{key:"stop",value:function(){this.frequency.stop(),this.period.stop(),this.noise.stop(),this.karplusStrong.parameters.get("decayTimeT60").value=0,this.feedbackGain.gain.value=0}},{key:"noteOn",value:function(t,e){var n=1/t;this.burst.gain.setValueAtTime(1,e),this.burst.gain.setValueAtTime(0,e+n),this.frequency.offset.setValueAtTime(t,e),this.period.offset.setValueAtTime(n,e)}},{key:"fxPickPosition",value:function(t,e){this.pickPosition.gain.setValueAtTime(t/255*.5,e)}},{key:"fxLevelFilter",value:function(t,e){this.levelFilter.gain.setValueAtTime(-t,e)}},{key:"fxDecayTime",value:function(t,e){this.karplusStrong.parameters.get("decayTimeT60").setValueAtTime(t/255*10,e)}},{key:"fxBrightness",value:function(t,e){this.karplusStrong.parameters.get("brightness").setValueAtTime(t/255,e)}},{key:"fxDrive",value:function(t,e){t=t/255*10,this.drive.gain.setValueAtTime(Math.pow(10,2*t),e)}},{key:"fxPostGain",value:function(t,e){this.postGain.gain.setValueAtTime(t/255,e)}},{key:"fxFeedbackGain",value:function(t,e){this.feedbackGain.gain.setValueAtTime(t/255*.02,e)}},{key:"fxFeedbackFrequency",value:function(t,e){this.feedbackDelay.delayTime.setValueAtTime(1/(10*t),e)}}]),e}(G),ft=function(t){function e(){var t,n;Object(y["a"])(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=Object(m["a"])(this,(t=Object(b["a"])(e)).call.apply(t,[this].concat(a))),Object(d["a"])(Object(g["a"])(n),"tempo",135),Object(d["a"])(Object(g["a"])(n),"notesPerBeat",4),Object(d["a"])(Object(g["a"])(n),"tracks",{Guitar:{instrument:new ht,notes:"--- --- --- ---  --- --- --- ---"+Array.from({length:100},(function(){return"\n            E-3 E-2 E-2 E-3  E-2 E-2 E-3 E-2  E-2 E-2 D-3 E-2\n            F-3 E-2 E-3 E-2  C-3 E-2 D-3 E-2  E-3 E-2 B-2 E-2  C-3 E-2 D-3 E-2\n            E-3 E-2 E-2 E-3  E-2 E-2 E-3 E-2  E-2 E-2 D-3 E-2\n            F-3 E-2 E-3 E-2  A-3 E-2 G#3 E-2  F-3 E-2 G#3 E-2  E-3 E-2 F-3 E-2\n            G#2 --- --- ---\n          "})).join(" "),effects:{pickPosition:"--- --- --- ---  --- --- --- ---  160",brightness:"--- --- --- ---  --- --- --- ---  020",drive:"--- --- --- ---  --- --- --- ---  040",feedbackGain:"--- --- --- ---  --- --- --- ---  040",feedbackFrequency:"--- --- --- ---  --- --- --- ---  020",levelFilter:"--- --- --- ---  --- --- --- ---"+Array.from({length:100},(function(){return"\n            080 140 140 080  140 140 080 140  140 140 080 140\n            080 140 080 140  080 140 080 140  080 140 080 140  080 140 080 140\n            080 140 140 080  140 140 080 140  140 140 080 140\n            080 140 080 140  080 140 080 140  080 140 080 140  080 140 080 140\n            080 --- --- ---\n            "})).join(" "),decayTime:"--- --- --- ---  --- --- --- ---"+Array.from({length:100},(function(){return"\n              080 005 005 080  005 005 080 005  005 005 080 005\n              080 005 080 005  080 005 080 005  080 005 080 005  080 005 080 005\n              080 005 005 080  005 005 080 005  005 005 080 005\n              080 005 080 005  080 005 080 005  080 005 080 005  080 005 080 005\n              080 --- --- ---\n              "})).join(" ")}}}),n}return Object(k["a"])(e,t),e}(T),pt={Demo:M,Workshop1907:N,Experiments:rt,RomanceAnonimo:ut,TheCrusade:ft},vt={props:{value:Boolean},data:function(){return{songs:pt}}},yt=vt,mt=Object(r["a"])(yt,p,v,!1,null,null,null),bt=mt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VMenu",{attrs:{"nudge-width":100},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("VBtn",t._g({staticClass:"body-1 text-none",attrs:{text:""}},i),[n("span",[t._v(t._s(t.trackName||"All tracks"))]),n("VIcon",{attrs:{dark:""}},[t._v("mdi-menu-down")])],1)]}}])},[n("VList",{attrs:{dense:"",nav:""}},[n("VSubheader",[t._v("Select a track")]),n("VListItemGroup",{attrs:{color:"primary"}},[n("VListItem",{attrs:{to:{params:{trackName:null}},exact:""}},[n("VListItemTitle",[t._v("All tracks")])],1),t._l(t.song.tracks,(function(e,i){return n("VListItem",{key:i,attrs:{to:{params:{trackName:i}}}},[n("VListItemTitle",[t._v(t._s(i))])],1)}))],2)],1)],1)},kt=[],dt={props:{song:{type:T,required:!0},trackName:{type:String,default:null}}},Ot=dt,jt=Object(r["a"])(Ot,gt,kt,!1,null,null,null),Tt=jt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.effectNames.length?n("VCard",[n("VCardText",[n("VRow",{attrs:{dense:""}},t._l(t.effectNames,(function(e){return n("VCol",{key:e,attrs:{cols:"12",md:"6",xl:"3"}},[n("VSlider",{attrs:{"thumb-label":"",max:255,label:e},on:{input:function(n){return t.setEffect(e,n)}}})],1)})),1)],1)],1):t._e()},At=[],qt=(n("7039"),n("3410"),n("2ca0"),n("2909")),Ft={props:{instrument:{type:G,required:!0},isPlaying:Boolean},computed:{effectNames:function(){var t=[].concat(Object(qt["a"])(Object.getOwnPropertyNames(Object.getPrototypeOf(this.instrument))),Object(qt["a"])(Object.keys(this.instrument)));return t.filter((function(t){return t.startsWith("fx")})).map((function(t){return t.substring(2)}))}},methods:{setEffect:function(t,e){this.isPlaying&&this.instrument.setEffect(t,e)}}},Gt=Ft,xt=Object(r["a"])(Gt,wt,At,!1,null,null,null),Vt=xt.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"resize",rawName:"v-resize",value:t.resize,expression:"resize"}],ref:"oscilloscope",staticClass:"oscilloscope my-3 flex-grow-1"},[n("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:t.width,height:t.height}})])},Et=[],Ct=(n("5cc6"),{props:{analyser:AnalyserNode},data:function(){return{width:null,height:null,context:null}},computed:{bufferLength:function(){return this.analyser?this.analyser.frequencyBinCount:2},dataArray:function(){return Uint8Array.from({length:this.bufferLength},(function(){return 128}))}},mounted:function(){this.context=this.$refs.canvas.getContext("2d"),this.draw()},updated:function(){this.resize()},methods:{resize:function(){var t=this.$refs.oscilloscope.getBoundingClientRect(),e=t.width,n=t.height;e===this.width&&n===this.height||(this.width=e,this.height=n)},draw:function(){requestAnimationFrame(this.draw),this.analyser&&this.analyser.getByteTimeDomainData(this.dataArray),this.context.clearRect(0,0,this.width,this.height),this.context.lineWidth=2,this.context.strokeStyle=this.$vuetify.theme.themes.light.primary,this.context.beginPath();for(var t=this.width/(this.bufferLength-1),e=0,n=0;n<this.bufferLength;n++){var i=this.dataArray[n]/128,a=1+i*(this.height/2-1);0===n?this.context.moveTo(e,a):this.context.lineTo(e,a),e+=t}this.context.stroke()}}}),Bt=Ct,St=(n("19e7"),Object(r["a"])(Bt,Dt,Et,!1,null,"36b67772",null)),Pt=St.exports,Mt={components:{SongsDrawer:bt,TracksMenu:Tt,TrackEffects:Vt,Oscilloscope:Pt},data:function(){return{songs:pt,publicPath:"/coder-synth/",drawer:null,audioContext:null,analyser:null,song:null,isPlaying:!1}},computed:{songName:function(){return this.$route.params.songName},trackName:function(){return this.$route.params.trackName},instrument:function(){return this.trackName?this.song.tracks[this.trackName].instrument:null}},watch:{$route:function(){this.isPlaying&&this.stop(),this.createSong()}},created:function(){this.createSong()},methods:{createSong:function(){this.song=new pt[this.songName](this.trackName)},play:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(this.audioContext){t.next=4;break}return this.createAudioContext(),t.next=4,regeneratorRuntime.awrap(this.initAudioWorklets());case 4:this.song.play(this.audioContext,this.analyser),this.isPlaying=!0;case 6:case"end":return t.stop()}}),null,this)},stop:function(){this.song.stop(),this.isPlaying=!1},createAudioContext:function(){this.audioContext=new AudioContext,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.analyser.connect(this.audioContext.destination)},initAudioWorklets:function(){var t=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.audioContext.audioWorklet){e.next=3;break}return console.warn("AudioWorklets are not supported by your browser!"),e.abrupt("return");case 3:return e.next=5,regeneratorRuntime.awrap(Promise.all(Object.values(at).map((function(e){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t.audioContext.audioWorklet.addModule("".concat(t.publicPath,"audio-worklets/").concat(e,".js")));case 2:case"end":return n.stop()}}))}))));case 5:case"end":return e.stop()}}),null,this)}}},Nt=Mt,_t=Object(r["a"])(Nt,h,f,!1,null,null,null),Lt=_t.exports;i["default"].use(l["a"]);var Qt=new l["a"]({mode:"history",base:"/coder-synth/",routes:[{path:"/",redirect:{name:"song",params:{songName:Object.keys(pt)[0]}}},{path:"/:songName/:trackName?",name:"song",component:Lt}]}),Rt=n("2f62");i["default"].use(Rt["a"]);var Wt=new Rt["a"].Store({state:{},mutations:{},actions:{}}),It=n("ce5b"),$t=n.n(It);n("bf40");i["default"].use($t.a);var Kt=new $t.a({theme:{themes:{light:{primary:"#f26223",secondary:"#2a2e33"}}}});i["default"].config.productionTip=!1,new i["default"]({vuetify:Kt,router:Qt,store:Wt,render:function(t){return t(u)}}).$mount("#app")},f975:function(t,e,n){}});
//# sourceMappingURL=app.9d9038b2.js.map